togglemainmenu = [|| hidetopui [toggleui main]]
bind ESCAPE [togglemainmenu]

showmainplayerprev = 1
setpersist showmainplayerprev 1
setcomplete showmainplayerprev 1

uimenu "main" (format "%1 v%2" $versionname $versionstring) [
    uihlist 0.015 [
        if $showmainplayerprev [
            uivlist $uibutton_padding [ uiplayerpreview (getplayermodel) (getplayercolour -1) (getplayerteam 1) (weapselect) (getplayervanity) 1 1 0.4 0.5 ]
        ]
        uivlist $uibutton_padding [
            uialign 0 -1
            uispace 0 0.01
            uiimage "textures/logo" $c_default 0 0.48 0.12
            uispace 0 0.01
            uibutton "Profile Setup" "textures/privs/none" 0.3 0.04 [ showui "profile" ]
            uibutton "Play Offline" "textures/player" 0.3 0.04 [ hideui "main"; localconnect ]
            uibutton "Connect" "textures/team" 0.3 0.04 [ hideui "main"; connect ]
            uibutton "Disconnect" "textures/hud/alert" 0.3 0.04 [ disconnect ] 0 [] (! (isconnected))
            uibutton "Credits" "textures/question" 0.3 0.04 [ showui "credits" ]
            uibutton "Quit" "textures/warning" 0.3 0.04 [ quit ]
        ]
    ]
]
