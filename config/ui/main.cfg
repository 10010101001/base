togglemainmenu = [|| hidetopui [toggleui main]]
bind ESCAPE [togglemainmenu]

showmainplayerprev = 1
setpersist showmainplayerprev 1
setcomplete showmainplayerprev 1

uimenu "main" (format "%1 v%2" $versionname $versionstring) [
    uihlist 0.015 [
        if $showmainplayerprev [
            uivlist $uibutton_padding [ uiplayerpreview (getplayermodel) (getplayercolour -1) (getplayerteam 1) (weapselect) (getplayervanity) 1 1 0.4 0.5 ]
        ]
        uivlist $uibutton_padding [
            uialign 0 -1
            uispace 0 0.01
            uiimage "textures/logo" $c_default 0 0.48 0.12
            uispace 0 0.01
            uibutton "default" [ uitext "Profile Setup" ] 0.3 0.04 [ showui "profile" ]
            uibutton "default" [ uitext "Play Offline" ] 0.3 0.04 [ hideui "main"; localconnect ]
            uibutton "default" [ uitext "Connect" ] 0.3 0.04 [ hideui "main"; connect ]
            uibutton "default" [ uitext "Credits" ] 0.3 0.04 [ showui "credits" ]
            uibutton "default" [ uitext "Disconnect" ] 0.3 0.04 [ disconnect ]
            uibutton "default" [ uitext "Quit" ] 0.3 0.04 [ quit ]
        ]
    ]
]
